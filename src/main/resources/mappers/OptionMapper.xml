<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.onlineeducationplatform.mapper.OptionMapper">

    <resultMap id="OptionResultMap" type="com.example.onlineeducationplatform.model.Option">
        <id column="id" property="id" />
        <result column="question_id" property="questionId" />
        <result column="text" property="optionText" />
        <result column="correct" property="correct" />
    </resultMap>

    <select id="selectOptionsByQuestionId" parameterType="int" resultMap="OptionResultMap"> SELECT *
        FROM options WHERE question_id = #{questionId} ORDER BY id </select>

    <select id="selectOptionById" parameterType="int" resultMap="OptionResultMap"> SELECT * FROM
        options WHERE id = #{id} </select>

    <insert id="insertOption" parameterType="com.example.onlineeducationplatform.model.Option"
        useGeneratedKeys="true" keyProperty="id"> INSERT INTO options (question_id, text, correct)
        VALUES (#{questionId}, #{optionText}, #{correct}) </insert>

    <update id="updateOption" parameterType="com.example.onlineeducationplatform.model.Option">
        UPDATE options SET text = #{optionText}, correct = #{correct} WHERE id = #{id} </update>

    <delete id="deleteOption" parameterType="int"> DELETE FROM options WHERE id = #{id} </delete>

</mapper>